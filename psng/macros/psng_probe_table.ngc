o<psng_probe_table> sub

; Call the PSNG Hook and check return value
o<psng_hook> call [3]
o10 if [#<_value> LT 0]
(ABORT, PSNG hook indicated a failure: #<_value>)
o10 endif

#<z>=#<_z> (save current Z position)
G91
F #<_hal[probe.ps_searchvel]>
G38.2 Z[-#<_hal[probe.ps_probe_max]>]
G1 Z[#<_hal[probe.ps_probe_latch]>] F#<_ini[TOOLSENSOR]RAPID_SPEED>
F #<_hal[probe.ps_probevel]>
G4 P0.5
G38.2 Z[-#<_hal[probe.ps_probe_latch]>*2]
G90
(back to start point)
G1 Z#<z> F#<_ini[TOOLSENSOR]RAPID_SPEED>
	
o<psng_probe_table> endsub
M2
